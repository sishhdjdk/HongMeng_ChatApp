/**
 * è”ç³»äººè¯¦æƒ…é¡µ
 * åŠŸèƒ½ï¼šæŸ¥çœ‹è”ç³»äººè¯¦ç»†ä¿¡æ¯ï¼Œå‘é€æ¶ˆæ¯ã€è§†é¢‘é€šè¯ç­‰æ“ä½œ
 */
import router from '@ohos.router'

@Entry
@Component
struct ContactDetailPage {
  @State contactName: string = 'å¼ ä¸‰'
  @State wechatId: string = 'zhangsan123'
  @State tags: string[] = ['åŒäº‹', 'æœ‹å‹']
  @State region: string = 'å¹¿ä¸œ æ·±åœ³'

  // åŠŸèƒ½é¡¹ç»„ä»¶
  @Builder
  InfoItem(title: string, content: string, showArrow: boolean = false) {
    Row() {
      Text(title)
        .fontSize(16)
        .fontColor('#666666')
        .width(100)

      Text(content)
        .fontSize(16)
        .layoutWeight(1)

      if (showArrow) {
        Image($r('sys.media.ohos_ic_public_arrow_right'))
          .width(20)
          .height(20)
          .fillColor('#CCCCCC')
      }
    }
    .width('100%')
    .height(56)
    .padding({ left: 16, right: 16 })
    .backgroundColor('#FFFFFF')
  }

  build() {
    Column() {
      // é¡¶éƒ¨å¯¼èˆªæ 
      Row() {
        Image($r('sys.media.ohos_ic_public_arrow_left'))
          .width(24)
          .height(24)
          .fillColor('#FFFFFF')
          .onClick(() => {
            router.back()
          })

        Blank()

        Image($r('sys.media.ohos_ic_public_more'))
          .width(24)
          .height(24)
          .fillColor('#FFFFFF')
      }
      .width('100%')
      .height(56)
      .padding({ left: 16, right: 16 })
      .backgroundColor('#07C160')

      // å†…å®¹åŒºåŸŸ
      Scroll() {
        Column() {
          // å¤´åƒå’Œæ˜µç§°
          Column() {
            Text(this.contactName.substring(0, 1))
              .width(80)
              .height(80)
              .borderRadius(8)
              .backgroundColor('#07C160')
              .fontColor('#FFFFFF')
              .fontSize(36)
              .textAlign(TextAlign.Center)
              .margin({ top: 20, bottom: 16 })

            Text(this.contactName)
              .fontSize(24)
              .fontWeight(FontWeight.Bold)
              .margin({ bottom: 8 })

            Text(`å¾®ä¿¡å·ï¼š${this.wechatId}`)
              .fontSize(14)
              .fontColor('#666666')
              .margin({ bottom: 20 })
          }
          .width('100%')
          .backgroundColor('#FFFFFF')
          .padding({ bottom: 20 })

          // æ“ä½œæŒ‰é’®
          Row() {
            Column() {
              Text('ğŸ’¬')
                .fontSize(28)
                .margin({ bottom: 8 })

              Text('å‘æ¶ˆæ¯')
                .fontSize(14)
                .fontColor('#666666')
            }
            .layoutWeight(1)
            .onClick(() => {
              router.pushUrl({ url: 'pages/ChatDetailPage' })
            })

            Divider().vertical(true).height(40).color('#EDEDED')

            Column() {
              Text('ğŸ“¹')
                .fontSize(28)
                .margin({ bottom: 8 })

              Text('è§†é¢‘é€šè¯')
                .fontSize(14)
                .fontColor('#666666')
            }
            .layoutWeight(1)

            Divider().vertical(true).height(40).color('#EDEDED')

            Column() {
              Text('ğŸ“')
                .fontSize(28)
                .margin({ bottom: 8 })

              Text('è¯­éŸ³é€šè¯')
                .fontSize(14)
                .fontColor('#666666')
            }
            .layoutWeight(1)
          }
          .width('100%')
          .height(80)
          .backgroundColor('#FFFFFF')
          .margin({ top: 8 })

          // è¯¦ç»†ä¿¡æ¯
          Column() {
            this.InfoItem('å¤‡æ³¨', 'å¼ ä¸‰', true)
            Divider().strokeWidth(1).color('#EDEDED')
            this.InfoItem('æ ‡ç­¾', this.tags.join('ã€'), true)
            Divider().strokeWidth(1).color('#EDEDED')
            this.InfoItem('åœ°åŒº', this.region, false)
            Divider().strokeWidth(1).color('#EDEDED')
            this.InfoItem('ä¸ªæ€§ç­¾å', 'ç”Ÿæ´»ä¸æ­¢çœ¼å‰çš„è‹Ÿä¸”...', false)
          }
          .width('100%')
          .margin({ top: 8 })

          // æœ‹å‹åœˆ
          Row() {
            Text('æœ‹å‹åœˆ')
              .fontSize(16)
              .layoutWeight(1)

            Row() {
              Text('ğŸ“·')
                .width(50)
                .height(50)
                .fontSize(32)
                .textAlign(TextAlign.Center)
                .backgroundColor('#F5F5F5')
                .borderRadius(4)
                .margin({ right: 8 })

              Image($r('sys.media.ohos_ic_public_arrow_right'))
                .width(20)
                .height(20)
                .fillColor('#CCCCCC')
            }
          }
          .width('100%')
          .height(70)
          .padding({ left: 16, right: 16 })
          .backgroundColor('#FFFFFF')
          .margin({ top: 8 })

          // æ›´å¤šä¿¡æ¯
          Column() {
            Row() {
              Text('æ›´å¤šä¿¡æ¯')
                .fontSize(16)
                .layoutWeight(1)

              Image($r('sys.media.ohos_ic_public_arrow_right'))
                .width(20)
                .height(20)
                .fillColor('#CCCCCC')
            }
            .width('100%')
            .height(56)
            .padding({ left: 16, right: 16 })
          }
          .width('100%')
          .backgroundColor('#FFFFFF')
          .margin({ top: 8, bottom: 20 })
        }
      }
      .layoutWeight(1)
      .backgroundColor('#EDEDED')
    }
    .width('100%')
    .height('100%')
  }
}
